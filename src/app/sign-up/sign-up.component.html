<div class="container h-100">
  <div class="d-flex justify-content-center h-100">
    <div class="user_card">
      <div class="d-flex justify-content-center">
        <div class="brand_logo_container mb-2">
          <img
            src="https://i.imgur.com/j0Pp0bX.png"
            class="brand_logo"
            alt="Logo"
          />
          <h4 class="text-center text-white w-100 mt-3">Sign Up</h4>
        </div>
        <div class="d-flex justify-content-center form_container">
          <form
            name="form"
            #f="ngForm"
            (ngSubmit)="f.form.valid && createUser()"
            novalidate
            class="signup-form"
          >
            <!---- Firstname  ---->
            <div class="input-group">
              <div class="input-group-append">
                <span class="input-group-text"><i class="fa fa-user"></i></span>
              </div>
              <input
                type="text"
                id="lastName"
                name="lastName"
                class="form-control"
                placeholder="first name"
                [(ngModel)]="userModel.lastName"
                #lastName="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && lastName.invalid }"
                required
                minlength="3"
              />
              <div
                *ngIf="f.submitted && lastName.invalid"
                class="invalid-tooltip text-center w-100 mb-3 error-message"
              >
                <div *ngIf="lastName.errors?.required">
                  Must be at least 3 characters
                </div>
              </div>
            </div>

            <!---- Lastname  ---->
            <div class="input-group">
              <div class="input-group-append">
                <span class="input-group-text"><i class="fa fa-user"></i></span>
              </div>
              <input
                type="text"
                id="firstName"
                name="firstName"
                class="form-control"
                placeholder="last name"
                [(ngModel)]="userModel.firstName"
                #firstName="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && firstName.invalid }"
                required
                minlength="3"
              />
              <!---- input invalidation group  ---->
              <div
                *ngIf="f.submitted && firstName.invalid"
                class="invalid-tooltip text-center w-100 error-message"
              >
                <div *ngIf="firstName.errors?.required">
                  Must be at least 3 characters
                </div>
              </div>
            </div>
            <!---- Username  ---->

            <div class="input-group">
              <div class="input-group-append">
                <span class="input-group-text"><i class="fa fa-user"></i></span>
              </div>
              <input
                type="text"
                id="userName"
                name="userName"
                class="form-control"
                placeholder="username"
                [(ngModel)]="userModel.userName"
                #userName="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && userName.invalid }"
                required
                minlength="5"
              />
              <div
                *ngIf="f.submitted && userName.invalid"
                class="invalid-tooltip text-center w-100 error-message"
              >
                <div *ngIf="userName.errors?.required">
                  Must be at least 3 characters
                </div>
              </div>
            </div>
            <!---- Password  ---->

            <div class="input-group">
              <div class="input-group-append">
                <span class="input-group-text"><i class="fa fa-lock"></i></span>
              </div>
              <input
                type="password"
                id="password"
                name="password"
                class="form-control"
                placeholder="password"
                [(ngModel)]="userModel.password"
                #password="ngModel"
                [ngClass]="{ 'is-invalid': f.submitted && password.invalid }"
                required
                minlength="5"
              />
              <div
                *ngIf="f.submitted && password.invalid"
                class="invalid-tooltip text-center w-100 error-message"
              >
                <div *ngIf="password.errors?.required">
                  Must be at least 5 characters
                </div>
              </div>
            </div>

            <div class="d-flex justify-content-center login_container">
              <button
                *ngIf="!invalidSignUp"
                ng-init="(click)='openModal(template)'"
                type="submit"
                class="btn login_btn"
                [disabled]="!f.form.valid"
              >
                Submit<span> <i class="fa fa-hand-pointer-o ml-2"></i></span>
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #template>
  <div class="modal-header text-center">
    <h4 class="modal-title w-100">Congratulations</h4>
    <button
      type="button"
      class="close pull-right"
      aria-label="Close"
      (click)="modalRef.hide()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="success-checkmark">
      <div class="check-icon">
        <span class="icon-line line-tip"></span>
        <span class="icon-line line-long"></span>
        <div class="icon-circle"></div>
        <div class="icon-fix"></div>
      </div>
    </div>
    <div class="content text-center">
      <p>Login to chat with your friends!</p>
    </div>
  </div>
</ng-template>
